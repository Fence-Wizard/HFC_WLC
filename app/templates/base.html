<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{% block title %}HFC Windload Calculator{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/static/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script>
      (function() {
        var t = localStorage.getItem('hfc_theme');
        if (t === 'dark' || (!t && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.documentElement.setAttribute('data-theme', 'dark');
        }
      })();
    </script>
  </head>
  <body>
    <!-- Top nav bar -->
    <header class="topbar">
      <div class="topbar-inner">
        <a href="/" class="topbar-brand">
          <img
            src="/static/images/hfc-logo.png"
            alt="Hurricane Fence Company"
            class="topbar-logo"
          />
          <div class="topbar-title">
            <span class="topbar-title-main">Wind Load Calculator</span>
            <span class="topbar-title-sub">Estimation Tool</span>
          </div>
        </a>
        <button
          type="button"
          class="theme-toggle"
          id="themeToggle"
          onclick="toggleTheme()"
          aria-label="Toggle dark mode"
        >
          <span id="themeIcon">&#x1F319;</span>
          <span class="toggle-label" id="themeLabel">Dark</span>
        </button>
      </div>
    </header>

    <!-- Step progress indicator (shown on wizard pages) -->
    {% block progress %}{% endblock %}

    <!-- Main content -->
    <main class="main-content">
      <div class="container">
        {% block content %}{% endblock %}
      </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
      <div class="footer-inner">
        <p>Hurricane Fence Company &mdash; Wind Load Calculator v0.1</p>
        <p class="footer-disclaimer">
          Preliminary estimates only. Not a substitute for professional
          engineering. Always verify with project drawings and local codes.
        </p>
      </div>
    </footer>

    <script>
      function toggleTheme() {
        var html = document.documentElement;
        var isDark = html.getAttribute('data-theme') === 'dark';
        if (isDark) {
          html.removeAttribute('data-theme');
          localStorage.setItem('hfc_theme', 'light');
        } else {
          html.setAttribute('data-theme', 'dark');
          localStorage.setItem('hfc_theme', 'dark');
        }
        updateToggleUI();
      }
      function updateToggleUI() {
        var isDark = document.documentElement.getAttribute('data-theme') === 'dark';
        var icon = document.getElementById('themeIcon');
        var label = document.getElementById('themeLabel');
        if (icon) icon.innerHTML = isDark ? '&#x2600;&#xFE0F;' : '&#x1F319;';
        if (label) label.textContent = isDark ? 'Light' : 'Dark';
      }
      updateToggleUI();
    </script>
  </body>
</html>
